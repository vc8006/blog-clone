<!DOCTYPE html>
{% load static %}
<html lang="en">

<head>
	<title>MY POCKET</title>

	<!-- Meta -->
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="Blog Template">
	<meta name="author" content="Xiaoying Riley at 3rd Wave Media">
	<link rel="shortcut icon" href="favicon.ico">

	<!-- FontAwesome JS-->
	<script defer src="https://use.fontawesome.com/releases/v5.7.1/js/all.js"
		integrity="sha384-eVEQC9zshBn0rFj4+TU78eNA19HMNigMviK/PU/FFjLXqa/GKPgX58rvt5Z8PLs7"
		crossorigin="anonymous"></script>
	<script defer src="{% static 'script.js' %}"></script>

	<!-- Theme CSS -->
	<link id="theme-style" rel="stylesheet" href="{% static 'index.css' %}">
	<!-- CSS only -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
	<!-- <link rel="stylesheet" href="{% static 'styles.css' %}"> -->
	<style>
		#overlay {
			position: fixed;
			opacity: 0;
			transition: 200ms ease-in-out;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			background-color: rgba(0, 0, 0, .5);
			pointer-events: none;


		}

		#overlay.active {
			position: fixed;
			overflow: hidden;
			opacity: 1;
			pointer-events: all;
		}

		.btn-change:hover {
			-webkit-transform: scale(1.1);
			background: #31708f;
		}

		.tag {
			position: fixed;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%) scale(0);
			transition: 200ms ease-in-out;
			border: 1px solid black;
			border-radius: 10px;
			z-index: 10;
			background-color: white;
			width: 500px;
			max-width: 80%;
			overflow: hidden;
		}

		.tag.active {
			position: fixed;
			transform: translate(-50%, -50%) scale(1);
		}
	</style>


</head>

<body>

	<nav class="navbar navbar-expand-lg navbar-light bg-light" style="z-index: 10; position: fixed; width: 100%;">
		<div class="container-fluid">
			<a class="navbar-brand" href="#">Navbar</a>
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse"
				data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
				aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav me-auto mb-2 mb-lg-0">
					<li class="nav-item">
						<a class="nav-link active" aria-current="page" href="#">Home</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#">Link</a>
					</li>
					<li class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
							data-bs-toggle="dropdown" aria-expanded="false">
							Dropdown
						</a>
						<ul class="dropdown-menu" aria-labelledby="navbarDropdown">
							<li><a class="dropdown-item" href="#">Action</a></li>
							<li><a class="dropdown-item" href="#">Another action</a></li>
							<li>
								<hr class="dropdown-divider">
							</li>
							<li><a class="dropdown-item" href="#">Something else here</a></li>
						</ul>
					</li>
					<li class="nav-item">
						<a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Disabled</a>
					</li>
				</ul>
				<!-- <form class="d-flex">
			  <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
			  <button class="btn btn-outline-success" type="submit">Search</button>
			</form> -->
				<form class="signup-form form-inline justify-content-center pt-3" method="GET" action="/search">
					{% csrf_token %}
					<div class="form-group">
						<input class="form-control me-2" type="search" placeholder="Search" id="query" name="query"
							aria-label="Search">
						<button class="btn btn-outline-success" type="submit">Search</button>
					</div>
				</form>
			</div>
		</div>
	</nav>


	<header class="header text-center">
		<h1 class="blog-name pt-lg-4 mb-0"><a href="index.html">MY POCKET</a></h1>



		<nav class="navbar navbar-expand-lg navbar-dark">

			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navigation"
				aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>

			<div id="navigation" class="collapse navbar-collapse flex-column">
				<div class="profile-section pt-3 pt-lg-0">
					<!-- <img class="profile-image mb-3 rounded-circle mx-auto" src="assets/images/profile.png" alt="image" >			 -->
					<img class="profile-image mb-3 rounded-circle mx-auto"
						src="https://revenuearchitects.com/wp-content/uploads/2017/02/Blog_pic-450x255.png" alt="image">

					<div class="bio mb-3"></a></div>
					<ul class="social-list list-inline py-3 mx-auto">
						<li class="list-inline-item"><a href="#"><i class="fab fa-twitter fa-fw"></i></a></li>
						<li class="list-inline-item"><a href="#"><i class="fab fa-linkedin-in fa-fw"></i></a></li>
						<li class="list-inline-item"><a href="#"><i class="fab fa-github-alt fa-fw"></i></a></li>
						<li class="list-inline-item"><a href="#"><i class="fab fa-stack-overflow fa-fw"></i></a></li>
						<li class="list-inline-item"><a href="#"><i class="fab fa-codepen fa-fw"></i></a></li>
					</ul>
					<!--//social-list-->
					<hr>
				</div>
				<!--//profile-section-->

				<ul class="navbar-nav flex-column text-left">
					<li class="nav-item active">
						<a class="nav-link" href="/"><i class="fas fa-home fa-fw mr-2"></i>Blog Home <span
								class="sr-only">(current)</span></a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="blog-post.html"><i
								class="fas fa-bookmark fa-fw mr-2"></i>Favourites</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="/discover"><i class="fas fa-user fa-fw mr-2"></i>Discover</a>
					</li>
					<li>
						<a class="nav-link" href="/bookmarks"><i class="fas fa-user fa-fw mr-2"></i>Bookmark API</a>
					</li>
					<li>
						<a class="nav-link" href="/timelines"><i class="fas fa-user fa-fw mr-2"></i>Timeline API</a>
					</li>
					<li>
						<a class="nav-link" href="/journey"><i class="fas fa-user fa-fw mr-2"></i>Journey</a>
					</li>
				</ul>

				<div class="my-2 my-md-3">
					<a class="btn btn-primary" href="/input">Add Url</a>
				</div>
			</div>
		</nav>
	</header>
	{% block content %}
	<div class="main-wrapper">
		<section class="cta-section theme-bg-light py-5">
			<div class="container text-center">
				<!-- <h2 class="heading">MY POCKET - Save your posts</h2> -->
				<div class="intro" style="margin-top: 5%;"><b>Add url</b></div>
				<form class="signup-form form-inline justify-content-center pt-3" method="POST" action="/">
					{% csrf_token %}
					<div class="form-group">
						<input class="form-control me-2" type="input" placeholder="Add url" name="url"
							aria-label="Search">
						<button class="btn btn-outline-success" type="submit">Add</button>
						<!-- <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
						<button class="btn btn-outline-success" type="submit">Search</button> -->
						<!-- <label class="sr-only" for="semail">Your email</label>
                        <input type="email" id="semail" name="semail1" class="form-control mr-md-1 semail" placeholder="Enter email"> -->
					</div>
					<!-- <button type="submit" class="btn btn-primary">Subscribe</button> -->
				</form>
			</div>
			<!--//container-->
		</section>
		<section class="blog-list px-3 py-5 p-md-5">
			<div class="container">
				{% for bookmark in allBookmarks %}

				<div>
					<div class="item mb-5">
						<div class="media" style="margin: 30px;">
							<img class="mr-3 img-fluid post-thumb d-none d-md-flex" src="{{bookmark.image_field}}"
								alt="image">
							<div class="media-body">
								<a style="float: right;" href="{% url 'delete' bookmark.id %}"><button class="btn"><i
											class='far fa-bookmark' style='font-size:24px'></i></button></a>
								<h3 class="title mb-1">{{bookmark.title_name}}</h3>
								<div class="meta mb-1"><span class="date">{{bookmark.date}}</div>
								<div class="intro">{{bookmark.description | truncatechars:250}}</div>
								<a class="more-link" href="{{bookmark.url_field}}" target="_blank">Read more &rarr;</a>
								<a style="float: right;" href="{% url 'delete' bookmark.id %}"><button class="btn"><i
											class="fa fa-trash"></i></button></a>
								<br>
								<div class="tags" style="width: 75%;">


									{% for tag in bookmark.tags.all %}
									<button data-tag-target="#tag" class="btn-change"
										style="-webkit-transition: all 0.5s ease-in-out;float: left;box-shadow: 0 0 1px #ccc;margin: 5px;border: 0px;color: #fff;background: lightseagreen;">

										#{{ tag }}
									</button>
									<div class="tag" id="tag">
										<!-- <div class="tag" id="tag" style="width: 50%; height: 40%;"> -->
										<div class="header1" style="padding:10px 15px !important; 
										display:flex !important; 
										justify-content: space-between !important; 
										align-items: center !important; 
										border-bottom: 1px solid black !important;">
											<div class="title1" style="font-size: 1.25rem; 
											font-weight: bold;">EXPLORE AND SAVE</div>
											<button data-close-button class="close-button" style="  cursor:pointer; 
											border:none; 
											outline:none; 
											background:none; 
											font-size: 1.25rem; 
											font-weight: bold;">&times;</button>
										</div>
										<div class="body1" style="padding:10px 15px;">
											<button class="btn btn-success my-3 mx-3">Add to Saved tags</button>
											<button class="btn btn-primary my-2">Discover related content</button>
										</div>

									</div>

									{% endfor %}
									<button data-tag-target="#tag{{bookmark.id}}" class="btn btn-primary"
										style="-webkit-transition: all 0.5s ease-in-out;float: left;box-shadow: 0 0 1px #ccc;margin: 5px;border: 0px;color: #fff;background: lightseagreen;">

										Add to Journey {{bookmark.id}}
									</button>
									<div class="tag" id="tag{{bookmark.id}}">
										<div class="header1">
											<!-- <div class="title"></div> -->
											<div class="title">ADD TO JOURNEY</div>
											<button data-close-button class="close-button" style="  cursor:pointer; 
											border:none; 
											outline:none; 
											background:none; 
											font-size: 1.25rem; 
											font-weight: bold;">&times;</button>
										</div>
										<div class="body1">
											{% for timeline in allTimelines %}
											<form action="./addtoexisting/{{bookmark.id}}/{{timeline.id}}" method="get">
												{% csrf_token %}
												<button class="btn btn-primary" type="submit"
													method="post">{{timeline.name}}</button>
											</form>
											{% endfor %}
											<br><br>

											<form action="./addjourney/{{bookmark.id}}" method="get">
												{% csrf_token %}
												<label for="name">{{bookmark.id}}</label>
												<input type="text" id="name" name="name">
												<button
													style="-webkit-transition: all 0.5s ease-in-out;float: left;box-shadow: 0 0 1px #ccc;margin: 5px;border: 0px;color: #fff;background: lightseagreen;"
													class="btn-change" type="submit" formmethod="post">Create new
													journey</button>
											</form>
											<script>
												const a = document.getElementById("tag"+"{{bookmark.id}}")
										
												// openTagButtons.forEach(button => {
													a.addEventListener('click', () => {
														const tag = button.querySelector(button.dataset.tagTarget)
														openTag(tag)


													})
												
											</script>
										</div>

									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				{% endfor %}
				<div id="overlay"></div>

				<nav class="blog-nav nav nav-justified my-5">
					<a class="nav-link-prev nav-item nav-link d-none rounded-left" href="#">Previous<i
							class="arrow-prev fas fa-long-arrow-alt-left"></i></a>
					<a class="nav-link-next nav-item nav-link rounded" href="blog-list.html">Next<i
							class="arrow-next fas fa-long-arrow-alt-right"></i></a>
				</nav>

			</div>
		</section>


		<footer class="footer text-center py-2 theme-bg-dark">


			<!-- <small class="copyright">Designed with <i class="fas fa-heart" style="color: #fb866a;"></i> by <a href="http://themes.3rdwavemedia.com" target="_blank">Xiaoying Riley</a> for developers</small> -->

		</footer>

	</div>

	{% endblock %}


	<!-- *****CONFIGURE STYLE (REMOVE ON YOUR PRODUCTION SITE)****** -->
	<div id="config-panel" class="config-panel d-none d-lg-block">
		<div class="panel-inner">
			<a id="config-trigger" class="config-trigger config-panel-hide text-center" href="#"><i
					class="fas fa-cog fa-spin mx-auto" data-fa-transform="down-6"></i></a>
			<h5 class="panel-title">Choose Colour</h5>
			<ul id="color-options" class="list-inline mb-0">
				<li class="theme-1 active list-inline-item"><a data-style="assets/css/theme-1.css" href="#"></a></li>
				<li class="theme-2  list-inline-item"><a data-style="assets/css/theme-2.css" href="#"></a></li>
				<li class="theme-3  list-inline-item"><a data-style="assets/css/theme-3.css" href="#"></a></li>
				<li class="theme-4  list-inline-item"><a data-style="assets/css/theme-4.css" href="#"></a></li>
				<li class="theme-5  list-inline-item"><a data-style="assets/css/theme-5.css" href="#"></a></li>
				<li class="theme-6  list-inline-item"><a data-style="assets/css/theme-6.css" href="#"></a></li>
				<li class="theme-7  list-inline-item"><a data-style="assets/css/theme-7.css" href="#"></a></li>
				<li class="theme-8  list-inline-item"><a data-style="assets/css/theme-8.css" href="#"></a></li>
			</ul>
			<a id="config-close" class="close" href="#"><i class="fa fa-times-circle"></i></a>
		</div>
		<!--//panel-inner-->
	</div>
	<!--//configure-panel-->



	<!-- Javascript -->
	<script src="assets/plugins/jquery-3.3.1.min.js"></script>
	<script src="assets/plugins/popper.min.js"></script>
	<script src="assets/plugins/bootstrap/js/bootstrap.min.js"></script>

	<!-- Style Switcher (REMOVE ON YOUR PRODUCTION SITE) -->
	<script src="assets/js/demo/style-switcher.js"></script>


</body>

</html>